select request_at as Day, ROUND(SUM(case when status like 'cancelled%' then 1 else 0 end) / Count(*), 2) as `Cancellation Rate`
from Trips t
join Users uc on t.client_id = uc.users_id
join Users ud on t.driver_id = ud.users_id
where uc.banned = "No" and ud.banned = "No" and request_at BETWEEN '2013-10-01' AND '2013-10-03'
group by request_at